\chapter{HKDS Protocol Project Documentation}
\hypertarget{index}{}\label{index}\index{HKDS Protocol Project Documentation@{HKDS Protocol Project Documentation}}
\hypertarget{index_intro_sec}{}\doxysection{\texorpdfstring{Introduction}{Introduction}}\label{index_intro_sec}
The HKDS Protocol Project implements a Hierarchical Key Derivation System (HKDS) designed to provide a robust and secure mechanism for key management and token exchange between client devices and a transaction processing server. Leveraging cryptographic primitives standardized by NIST (including SHA-\/3, SHAKE, and KMAC), the HKDS protocol is well-\/suited for high-\/security environments such as point-\/of-\/sale (POS) systems.\hypertarget{index_protocol_sec}{}\doxysection{\texorpdfstring{HKDS Protocol Overview}{HKDS Protocol Overview}}\label{index_protocol_sec}
The HKDS protocol is built upon a hierarchical structure for key derivation. Its main components include\+:


\begin{DoxyItemize}
\item {\bfseries{Master Key Set (MDK)\+:}} Comprised of a Base Derivation Key (BDK), a Secret Token Key (STK), and a Key Identity (KID).
\item {\bfseries{Key Serial Number (KSN)\+:}} A unique identifier for each client that encapsulates the device identity (DID) and a token counter.
\item {\bfseries{Embedded Device Key (EDK)\+:}} Derived from the device\textquotesingle{}s unique identity and the BDK, this key is used to generate the Transaction Key Cache (TKC).
\item {\bfseries{Transaction Key Cache (TKC)\+:}} A set of keys generated from the decrypted token and the EDK. These keys are used for encrypting and authenticating messages.
\end{DoxyItemize}

The protocol employs\+:
\begin{DoxyItemize}
\item {\bfseries{SHAKE Functions\+:}} Acting as the primary pseudo-\/random function (PRF) for generating key streams.
\item {\bfseries{KMAC Functions\+:}} Providing message authentication to ensure the integrity of encrypted data.
\item {\bfseries{Token Exchange\+:}} A secure process where the server encrypts a token using the STK and a custom token string, and the client decrypts the token to derive the transaction keys.
\end{DoxyItemize}\hypertarget{index_test_sec}{}\doxysection{\texorpdfstring{HKDS Test Project}{HKDS Test Project}}\label{index_test_sec}
The HKDS Test Project is an extensive suite of tests designed to validate both the functionality and performance of the HKDS implementation. Key test categories include\+:


\begin{DoxyItemize}
\item {\bfseries{Cycle Tests\+:}} Verify full protocol interactions between the server and client.
\item {\bfseries{Known-\/\+Answer Tests (KAT)\+:}} Compare outputs of encryption, decryption, and key derivation operations against pre-\/computed expected results.
\item {\bfseries{Authenticated Encryption Tests (KATAE)\+:}} Confirm that the authenticated encryption process produces the correct ciphertext and MAC tag.
\item {\bfseries{Monte Carlo Tests\+:}} Run repeated cycles to verify the robustness and consistency of the implementation.
\item {\bfseries{Stress Tests\+:}} Continuously execute full protocol cycles to assess the system\textquotesingle{}s stability under load.
\item {\bfseries{SIMD/\+Parallel Tests\+:}} Validate that vectorized implementations (using SIMD instructions) produce equivalent results to the sequential versions.
\item {\bfseries{Benchmark Tests\+:}} Measure the timing performance of the cryptographic primitives and overall protocol operations.
\end{DoxyItemize}\hypertarget{index_project_sec}{}\doxysection{\texorpdfstring{Project Structure}{Project Structure}}\label{index_project_sec}
The project is organized into several modules\+:


\begin{DoxyItemize}
\item {\bfseries{Client Module (\doxylink{hkds__client_8h}{hkds\+\_\+client.\+h}/.c)\+:}} Contains functions for key management, message encryption, and token handling on the client side.
\item {\bfseries{Server Module (\doxylink{hkds__server_8h}{hkds\+\_\+server.\+h}/.c)\+:}} Implements key derivation, token generation, and message decryption for the server.
\item {\bfseries{Configuration Module (\doxylink{hkds__config_8h}{hkds\+\_\+config.\+h})\+:}} Defines protocol parameters, key sizes, and mode settings.
\item {\bfseries{Queue Module (\doxylink{hkds__queue_8h}{hkds\+\_\+queue.\+h}/.c)\+:}} Implements message queuing for asynchronous operations.
\item {\bfseries{Benchmark Module (\doxylink{hkds__benchmark_8h}{hkds\+\_\+benchmark.\+h}/.c)\+:}} Provides performance benchmarking for cryptographic primitives and protocol operations.
\item {\bfseries{Test Module (\doxylink{hkds__test_8h}{hkds\+\_\+test.\+h}/.c)\+:}} Contains comprehensive tests for functional correctness and performance.
\end{DoxyItemize}\hypertarget{index_conclusion_sec}{}\doxysection{\texorpdfstring{Conclusion}{Conclusion}}\label{index_conclusion_sec}
Together, these modules form a complete solution for secure key management and message processing in transactional systems. The HKDS protocol, with its rigorous testing and performance benchmarks, ensures both security and operational efficiency in high-\/stakes environments. This documentation serves as a guide for understanding, using, and extending the HKDS protocol and its accompanying test suite.

\begin{DoxyAuthor}{Author}
John G. Underhill 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2025-\/02-\/10 
\end{DoxyDate}
